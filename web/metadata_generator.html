<!--
//  metadata_generator.html
//
//  Created by Armored Dragon, June 30th, 2025.
//  Copyright 2025 Overte e.V.
//
//  Distributed under the Apache License, Version 2.0.
//  See the accompanying file LICENSE or http://www.apache.org/licenses/LICENSE-2.0.html
-->
<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Applications Repository Metadata Generator</title>
	<link rel="stylesheet" href="./css/metadata_generator.css">
</head>

<body>
	<noscript>
		<div class="center-align">
			<h1>Unfortunately, this web application requires Javascript to run.
				<br>Please enable javascript and refresh your page.
			</h1>
		</div>
	</noscript>
    <div style="text-align: center;  width: 100%;">
        <br><img src="logo.png" style="width: 250px;"><br>
    </div>
	<div id="content" class="center-align hidden">
		<h1>Applications Repository  Metadata Generator</h1>
		<!-- Create application V2 -->
		<div id="form-v2-app" class="form-entry hidden">
            <br><table style="width: 100%;">
                <tr style="vertical-align: top;">
                    <td style="vertical-align: top;">
                        <h2>Create an application</h2>
                    </td>
                    <td style="vertical-align: top;">
                        applications/<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;┗ <font color = "#00AA00" >myappDirectory</font>/<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;┣ <font color = "#eb5234" >myapp.js</font><br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;┗ <font color = "#0055ff" >img/<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;┗ icon_white.png</font><br><br>
                    </td>
                </tr>
            </table>
			<div class="form-area">
				<div class="form-data">

					<div class="form-textinput">
						<label for="app-v2-name">Name</label>
						<input id="app-v2-name" type="text" Title="Name" placeholder="Name" oninput="updateMetadataFromHTML('v2')">
					</div>

					<div class="form-textarea">
						<label for="app-v2-description">Description</label>
						<textarea id="app-v2-description" type="text" title="Description" placeholder="Description"
							oninput="updateMetadataFromHTML('v2')"></textarea>
					</div>

					<div class="form-textinput">
						<label for="app-v2-directory"><font color = "#00AA00" >Directory</font></label>
						<input id="app-v2-directory" type="text" title="Your application's directory (under '/applications')" placeholder="Your application's directory (under '/applications')"
							oninput="updateMetadataFromHTML('v2')">
					</div>

					<div class="form-textinput">
						<label for="app-v2-script"><font color = "#eb5234" >Script</font></label>
						<input id="app-v2-script" type="text" title="The filename of the .js script (in your application's directory)" placeholder="The filename of the .js script (in your application's directory)"
							oninput="updateMetadataFromHTML('v2')">
					</div>

					<div class="form-textinput">
						<label for="app-v2-icon"><font color = "#0055ff" >Icon</font></label>
						<input id="app-v2-icon" type="text" title="Relative or Absolute URL of a .svg or .png file. (100 X 100 px)" placeholder="Relative or Absolute URL of a .svg or .png file. (100 X 100 px)" oninput="updateMetadataFromHTML('v2')">
					</div>

					<div class="form-textinput">
						<label for="app-v2-author">Author</label>
						<input id="app-v2-author" type="text" title="Author (Person or Organization...)" placeholder="Author (Person or Organization...)"
							oninput="updateMetadataFromHTML('v2')">
					</div>

					<div class="form-textinput">
						<label for="app-v2-homepage">Homepage</label>
						<input id="app-v2-homepage" type="text" title="Application related web page. (Relative or Absolute URL)" placeholder="Application related web page. (Relative or Absolute URL)"
							oninput="updateMetadataFromHTML('v2')">
					</div>

					<div class="form-combobox">
						<label for="app-v2-category">Category</label>
						<select id="app-v2-category" name="app-v2-category" onchange="updateMetadataFromHTML('v2')">
							<option value="" disabled selected>Select an option</option>
							<option value="UTILITY">Utility</option>
							<option value="SCIENCE">Science</option>
							<option value="HEALTH">Health</option>
							<option value="GAMES">Games</option>
							<option value="EDUCATION">Education</option>
							<option value="ENTERTAINMENT">Entertainment</option>
							<option value="PRODUCTIVITY">Productivity</option>
							<option value="SHOPPING">Shopping</option>
						</select>
					</div>

					<div class="form-combobox">
						<label for="app-v2-maturity">Maturity</label>
						<select id="app-v2-maturity" name="app-v2-maturity" onchange="updateMetadataFromHTML('v2')">
							<option value="" disabled selected>Select an option</option>
							<option value="EVERYONE">Everyone</option>
							<option value="TEEN">Teen</option>
							<option value="MATURE">Mature</option>
							<option value="ADULT">Adult</option>
						</select>
					</div>

				</div>
				<div class="button-horizontal-container">
					<button class="continue-button" onclick="continueFromV2();">Continue</button>
				</div>
			</div>
		</div>

		<!-- Results -->
		<div id="results" class="results hidden">
			<div class="result-snippet">
				<h2>Generated entry</h2>
				<p>The following code has been added to the bottom of the metadata.json file.</p>
				<div class="code-block">
					<textarea id="result-snippet-textarea" readonly></textarea>
				</div>
				<div class="button-horizontal-container">
					<button class="continue-button" onclick="copyToClipboard('#result-snippet-textarea')">Copy</button>
				</div>
			</div>

			<div class="result-complete">
				<h2>Complete metadata file</h2>
				<p>The following code is what your metadata.json file should look like. Review this carefully before
					committing it.</p>
                <div class="button-horizontal-container">
					<button class="continue-button" onclick="copyToClipboard('#result-complete-textarea')">Copy</button>
				</div>
				<div class="code-block">
					<textarea id="result-complete-textarea" readonly></textarea>
				</div>
			</div>
		</div>

	</div>
</body>

<script>
	document.querySelector(`#content`).classList.remove('hidden');
</script>
<script src="./js/format.js"></script>
<script src="./js/formController.js"></script>
<script src="./js/metadata_generator.js"></script>
<script>
    continueFromUrl();
</script>
</html>
